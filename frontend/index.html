<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–ë–ñ–£ –¢—Ä–µ–∫–µ—Ä</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>–ö–ë–ñ–£ –¢—Ä–µ–∫–µ—Ä</h1>
            <p>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–∞–ª–æ—Ä–∏–π –ø–æ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏</p>
        </div>

        <!-- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
        <div class="page" id="home-page">
            <div class="main-content">
                <div class="photo-section">
                    <button class="photo-upload" onclick="takePhoto()">
                        –°—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä–æ–≤–∞—Ç—å –±–ª—é–¥–æ
                    </button>
                    <input type="file" id="file-input" accept="image/*" capture="environment" onchange="handleFileSelect(event)">
                    <div class="demo-result" id="demo-result">
                        <h4>‚úÖ –ë–ª—é–¥–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–æ!</h4>
                        <p><strong>–ë–ª—é–¥–æ:</strong> <span id="detected-food"></span></p>
                        <p><strong>–ü–æ—Ä—Ü–∏—è:</strong> <span id="detected-portion"></span></p>
                    </div>
                </div>

                <div class="meal-type">
                    <h3>–ü—Ä–∏—ë–º –ø–∏—â–∏</h3>
                    <div class="meal-buttons">
                        <button class="meal-btn active" data-meal="breakfast">üåÖ –ó–∞–≤—Ç—Ä–∞–∫</button>
                        <button class="meal-btn" data-meal="lunch">üåû –û–±–µ–¥</button>
                        <button class="meal-btn" data-meal="dinner">üåô –£–∂–∏–Ω</button>
                    </div>
                </div>

                <div class="loading" id="loading">
                    <div class="spinner"></div>
                    <p>–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –≤–∞—à–µ –±–ª—é–¥–æ...</p>
                </div>

                <div class="stats-grid">
                    <div class="stat-card calories">
                        <div class="stat-value" id="calories">0</div>
                        <div class="stat-label">–ö–ê–õ–û–†–ò–ò</div>
                    </div>
                    <div class="stat-card protein">
                        <div class="stat-value" id="protein">0–≥</div>
                        <div class="stat-label">–ë–ï–õ–ö–ò</div>
                    </div>
                    <div class="stat-card fats">
                        <div class="stat-value" id="fats">0–≥</div>
                        <div class="stat-label">–ñ–ò–†–´</div>
                    </div>
                    <div class="stat-card carbs">
                        <div class="stat-value" id="carbs">0–≥</div>
                        <div class="stat-label">–£–ì–õ–ï–í–û–î–´</div>
                    </div>
                </div>

                <div class="ai-analysis">
                    <h3>üí° –ê–Ω–∞–ª–∏–∑ —Ä–∞—Ü–∏–æ–Ω–∞</h3>
                    <p id="ai-advice"></p>
                </div>

                <div class="history-section">
                    <h3>üìÖ –ü–æ—Å–ª–µ–¥–Ω–∏–µ –ø—Ä–∏–µ–º—ã –ø–∏—â–∏</h3>
                    <div id="recent-meals"></div>
                </div>
            </div>
        </div>

        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ò—Å—Ç–æ—Ä–∏—è -->
        <div class="page" id="history-page" style="display: none;">
            <div class="main-content">
                <div class="page-header">
                    <h2>üìÖ –ò—Å—Ç–æ—Ä–∏—è –ø–∏—Ç–∞–Ω–∏—è</h2>
                </div>

                <div class="date-selector">
                    <button class="date-btn active" onclick="filterHistory('today')">–°–µ–≥–æ–¥–Ω—è</button>
                    <button class="date-btn" onclick="filterHistory('week')">–ù–µ–¥–µ–ª—è</button>
                    <button class="date-btn" onclick="filterHistory('month')">–ú–µ—Å—è—Ü</button>
                </div>

                <div class="history-stats">
                    <div class="stat-card">
                        <div class="stat-value" id="history-total-calories">0</div>
                        <div class="stat-label">–í–°–ï–ì–û –ö–ê–õ–û–†–ò–ô</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="history-meals-count">0</div>
                        <div class="stat-label">–ü–†–ò–ï–ú–û–í –ü–ò–©–ò</div>
                    </div>
                </div>

                <div class="history-detailed" id="history-detailed"></div>
            </div>
        </div>

        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
        <div class="page" id="analytics-page" style="display: none;">
            <div class="main-content">
                <div class="page-header">
                    <h2>üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
                </div>

                <div class="analytics-period">
                    <button class="period-btn active" onclick="changePeriod('week')">–ù–µ–¥–µ–ª—è</button>
                    <button class="period-btn" onclick="changePeriod('month')">–ú–µ—Å—è—Ü</button>
                </div>

                <div class="analytics-overview">
                    <div class="stat-card calories">
                        <div class="stat-value" id="analytics-avg-calories">0</div>
                        <div class="stat-label">–°–†–ï–î–ù. –ö–ê–õ–û–†–ò–ò/–î–ï–ù–¨</div>
                        <div class="stat-change positive" id="analytics-calories-change"></div>
                    </div>
                    <div class="stat-card protein">
                        <div class="stat-value" id="analytics-avg-protein">0–≥</div>
                        <div class="stat-label">–°–†–ï–î–ù. –ë–ï–õ–ö–ò/–î–ï–ù–¨</div>
                        <div class="stat-change positive" id="analytics-protein-change"></div>
                    </div>
                </div>

                <div class="chart-section">
                    <h3>–ì—Ä–∞—Ñ–∏–∫ –∫–∞–ª–æ—Ä–∏–π –∑–∞ –Ω–µ–¥–µ–ª—é</h3>
                    <div class="chart-container">
                        <div class="chart-bars" id="analytics-chart-bars"></div>
                    </div>
                </div>

                <div class="nutrition-breakdown">
                    <h3>–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ë–ñ–£</h3>
                    <div class="macro-charts">
                        <div class="macro-chart">
                            <div class="macro-circle" id="macro-protein">
                                <div class="macro-label">–ë–µ–ª–∫–∏</div>
                                <div class="macro-value" id="macro-protein-value">0%</div>
                            </div>
                        </div>
                        <div class="macro-chart">
                            <div class="macro-circle" id="macro-fats">
                                <div class="macro-label">–ñ–∏—Ä—ã</div>
                                <div class="macro-value" id="macro-fats-value">0%</div>
                            </div>
                        </div>
                        <div class="macro-chart">
                            <div class="macro-circle" id="macro-carbs">
                                <div class="macro-label">–£–≥–ª–µ–≤–æ–¥—ã</div>
                                <div class="macro-value" id="macro-carbs-value">0%</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="habits-section">
                    <h3>–ü—Ä–∏–≤—ã—á–∫–∏ –ø–∏—Ç–∞–Ω–∏—è</h3>
                    <div id="habits-list"></div>
                </div>
            </div>
        </div>

        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ü—Ä–æ—Ñ–∏–ª—å -->
        <div class="page" id="profile-page" style="display: none;">
            <div class="main-content">
                <div class="page-header">
                    <h2>üë§ –ü—Ä–æ—Ñ–∏–ª—å</h2>
                </div>

                <div class="profile-card">
                    <div class="profile-avatar">
                        <div class="avatar-circle">üë§</div>
                        <button class="change-avatar-btn">–ò–∑–º–µ–Ω–∏—Ç—å —Ñ–æ—Ç–æ</button>
                    </div>
                    <div class="profile-info">
                        <h3 id="profile-name"></h3>
                        <p id="profile-goal"></p>
                    </div>
                </div>

                <div class="settings-section">
                    <h3>–õ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</h3>
                    <div class="setting-item">
                        <label>–ò–º—è</label>
                        <input type="text" id="user-name" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è">
                    </div>
                    <div class="setting-item">
                        <label>–í–æ–∑—Ä–∞—Å—Ç</label>
                        <input type="number" id="user-age" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–æ–∑—Ä–∞—Å—Ç">
                    </div>
                    <div class="setting-item">
                        <label>–†–æ—Å—Ç (—Å–º)</label>
                        <input type="number" id="user-height" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ä–æ—Å—Ç">
                    </div>
                    <div class="setting-item">
                        <label>–í–µ—Å (–∫–≥)</label>
                        <input type="number" id="user-weight" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–µ—Å">
                    </div>
                    <div class="setting-item">
                        <label>–ü–æ–ª</label>
                        <select id="user-gender">
                            <option value="male">–ú—É–∂—Å–∫–æ–π</option>
                            <option value="female">–ñ–µ–Ω—Å–∫–∏–π</option>
                        </select>
                    </div>
                </div>

                <div class="goals-section">
                    <h3>–¶–µ–ª–∏ –ø–∏—Ç–∞–Ω–∏—è</h3>
                    <div class="goal-selector">
                        <button class="goal-btn" data-goal="maintain">–ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ –≤–µ—Å–∞</button>
                        <button class="goal-btn" data-goal="lose">–ü–æ—Ö—É–¥–µ–Ω–∏–µ</button>
                        <button class="goal-btn" data-goal="gain">–ù–∞–±–æ—Ä –º–∞—Å—Å—ã</button>
                    </div>
                    <div class="daily-goals">
                        <h4>–î–Ω–µ–≤–Ω—ã–µ —Ü–µ–ª–∏</h4>
                        <div class="goal-item">
                            <label>–ö–∞–ª–æ—Ä–∏–∏</label>
                            <input type="number" id="goal-calories">
                            <span>–∫–∫–∞–ª</span>
                        </div>
                        <div class="goal-item">
                            <label>–ë–µ–ª–∫–∏</label>
                            <input type="number" id="goal-protein">
                            <span>–≥</span>
                        </div>
                        <div class="goal-item">
                            <label>–ñ–∏—Ä—ã</label>
                            <input type="number" id="goal-fats">
                            <span>–≥</span>
                        </div>
                        <div class="goal-item">
                            <label>–£–≥–ª–µ–≤–æ–¥—ã</label>
                            <input type="number" id="goal-carbs">
                            <span>–≥</span>
                        </div>
                    </div>
                </div>

                <div class="preferences-section">
                    <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
                    <div class="preference-item">
                        <label>–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</label>
                        <div class="toggle-switch">
                            <input type="checkbox" id="notifications">
                            <span class="slider"></span>
                        </div>
                    </div>
                    <div class="preference-item">
                        <label>–¢–µ–º–Ω–∞—è —Ç–µ–º–∞</label>
                        <div class="toggle-switch">
                            <input type="checkbox" id="dark-theme">
                            <span class="slider"></span>
                        </div>
                    </div>
                    <div class="preference-item">
                        <label>–ï–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è</label>
                        <select id="units">
                            <option value="metric">–ú–µ—Ç—Ä–∏—á–µ—Å–∫–∏–µ</option>
                            <option value="imperial">–ò–º–ø–µ—Ä—Å–∫–∏–µ</option>
                        </select>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="save-btn" onclick="saveProfile()">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
                    <button class="export-btn" onclick="exportData()">üì§ –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö</button>
                    <button class="reset-btn" onclick="resetData()">üîÑ –°–±—Ä–æ—Å –¥–∞–Ω–Ω—ã—Ö</button>
                </div>
            </div>
        </div>

        <div class="bottom-nav">
            <div class="nav-item active" onclick="showPage('home')">
                <div class="nav-icon">üè†</div>
                <div>–ì–ª–∞–≤–Ω–∞—è</div>
            </div>
            <div class="nav-item" onclick="showPage('history')">
                <div class="nav-icon">üìä</div>
                <div>–ò—Å—Ç–æ—Ä–∏—è</div>
            </div>
            <div class="nav-item" onclick="showPage('analytics')">
                <div class="nav-icon">üìà</div>
                <div>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</div>
            </div>
            <div class="nav-item" onclick="showPage('profile')">
                <div class="nav-icon">üë§</div>
                <div>–ü—Ä–æ—Ñ–∏–ª—å</div>
            </div>
        </div>
    </div>
    <script src="js/app.js"></script>
</body>
</html>